import{_ as n,c as l,b as o,d as s,e as p,a as e,o as t,r as c}from"./app.16764a97.js";const A=JSON.parse('{"title":"01-Vue3 源码结构的介绍","description":"","frontmatter":{},"headers":[{"level":2,"title":"vue3 的三大核心功能模块","slug":"vue3-的三大核心功能模块","link":"#vue3-的三大核心功能模块","children":[]},{"level":2,"title":"三大系统协调工作","slug":"三大系统协调工作","link":"#三大系统协调工作","children":[]},{"level":2,"title":"编译系统","slug":"编译系统","link":"#编译系统","children":[]},{"level":2,"title":"渲染系统","slug":"渲染系统","link":"#渲染系统","children":[]},{"level":2,"title":"响应式系统","slug":"响应式系统","link":"#响应式系统","children":[]}],"relativePath":"source/vue3/01-Vue3 源码结构的介绍.md"}'),r={name:"source/vue3/01-Vue3 源码结构的介绍.md"},F=s("h1",{id:"_01-vue3-源码结构的介绍",tabindex:"-1"},[p("01-Vue3 源码结构的介绍 "),s("a",{class:"header-anchor",href:"#_01-vue3-源码结构的介绍","aria-hidden":"true"},"#")],-1),y=e(`<h2 id="vue3-的三大核心功能模块" tabindex="-1">vue3 的三大核心功能模块 <a class="header-anchor" href="#vue3-的三大核心功能模块" aria-hidden="true">#</a></h2><ol><li>Compiler 模块 <blockquote><p>compiler-sfc 主要用来解析 sfc（其实就是单文件组件）<br> compiler-dom 底层是依赖 compiler-core，是用来处理 template 的，会将 template 编译成 render 函数。</p></blockquote></li><li>Runtime 模块: 也可以称之为 Renderer 模块，真正渲染的模块。</li><li>Reactivity 模块: 响应式系统; 比如: data 中的数据，setup 中的数据，ref,reactive 等等。</li></ol><h2 id="三大系统协调工作" tabindex="-1">三大系统协调工作 <a class="header-anchor" href="#三大系统协调工作" aria-hidden="true">#</a></h2><h2 id="编译系统" tabindex="-1">编译系统 <a class="header-anchor" href="#编译系统" aria-hidden="true">#</a></h2><p>将 template 模块转为 render 函数</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">app</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> @click=&quot;confole.log(&#39;hello vue3&#39;)&quot;&gt;&lt;/div&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    &lt;h1&gt;开始学习vue源码&lt;/h1&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    &lt;p&gt;今天天气真不错&lt;/p&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/div&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>-&gt; 转换为 render 函数</p><div class="language-javascript"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">createElementVNode</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">_createElementVNode</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">openBlock</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">_openBlock</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">createElementBlock</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">_createElementBlock</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">render</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">_ctx</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">_cache</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">$props</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">$setup</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">$data</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#BABED8;font-style:italic;">$options</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">_openBlock</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">_createElementBlock</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> id</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">app</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">},</span><span style="color:#F07178;"> [</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">_createElementVNode</span><span style="color:#F07178;">(</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">div</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#82AAFF;">onClick</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">$event</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">_ctx</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">confole</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello vue3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">null,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#F78C6C;">8</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">/* PROPS */</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">onClick</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">      )</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">_createElementVNode</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">h1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">开始学习vue源码</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#82AAFF;">_createElementVNode</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">p</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">今天天气真不错</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    ])</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Check the console for the AST</span></span>
<span class="line"></span></code></pre></div><h2 id="渲染系统" tabindex="-1">渲染系统 <a class="header-anchor" href="#渲染系统" aria-hidden="true">#</a></h2><p>runtime-dom 以及 runtime-core 一系列业务逻辑的处理</p><h2 id="响应式系统" tabindex="-1">响应式系统 <a class="header-anchor" href="#响应式系统" aria-hidden="true">#</a></h2><p>主要进行 vnode 的 diff 算法</p>`,12);function D(i,d,u,B,h,E){const a=c("ZoomImg");return t(),l("div",null,[F,o(a,{src:"../images/vue3/core-module.png"}),y])}const m=n(r,[["render",D]]);export{A as __pageData,m as default};
